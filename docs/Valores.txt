Gestión de recibos de valores

Para una aplicación web de la Dirección de Tesorería de la Jefatura de Policía, deseo crear la sección de Gestión de Recibos de Valores.

Cabe señalar que el stack utilizado para crear la aplicación, está integrado por: Laravel 9, Livewire 2.12.7, Bootstrap 4.6.2, Spatie/laravel-permission, JWT autenticación, etc...

En este contexto, se le llama valores al conjunto de recibos numerados, que sirven como comprobante del cobro de un servicio y al titular contratante como justificativo de su pago.
La Jefatura brinda diversos servicios y obliga a infractores a pagar otros, motivando la existencia de los recibos de mención como respaldo legal de la transacción monetaria asociada.

Los recibos se agrupan en libretas, teniendo cada libreta un número total de recibos que varía generalmente entre libretas de 25 o de 50 recibos, dependiendo el tipo de recibo que la integra.

Un tipo de recibo, puede corresponderse con un único concepto de cobro o puede ser asignado a un concepto de cobro entre varios posibles para ese tipo de recibo, lo que debe ser explicitado al momento de la entrega de la libreta.

En cuanto al valor que se debe cobrar, muchos recibos no tienen valor escrito (S.V.E.) y otros tienen valor expresado en Unidades Reajustables (U.R.). Los recibos de múltiples usos, llevarán un sello una vez que son asignados al cobro de un concepto de servicio en concreto, para indicar, en caso de existir, el valor que se debe cobrar expresado en URs.

La confección de las libretas es ordenada por la Dirección de Contabilidad a la Oficina de Servicios Gráficos (imprenta), esta las confecciona y entrega a Contabilidad, quien las controla y las entrega a la Tesorería en forma de libretas, cuyos recibos están numerados siguiendo la regla que en algún momento el primer recibo fue el número 1 y estar integrada por 25 o 50 recibos, por lo tanto la segunda libreta comienza en el número 25 + 1 (26) o 50 + 1 (51) y así sucesivamente. La numeración correspondiente a usar es ordenada por el Ministerio del Interior y para una misma Jefatura puede tener "faltantes" entre una partida y otra, ya que puede haberse asignado esa numeración a otra Jefatura.

La Dirección de Tesorería recibe las libretas de valores y las almacena en custodia, hasta que requiere su uso para el cobro de alguno de los servicios y, dependendo el concepto del mismo, se solicita la utilización de un determinado tipo de libreta. En caso de libretas de uso único, la Dirección de Contabilidad entrega la libreta, identificada por sus números de recibos, a la Dirección de Tesorería. En caso de una libreta de uso múltiple, existe un paso anterior a la entrega, en la cual Contabilidad coloca un sello en cada recibo indicado que concepto coresponde al mismo (o que concepto de servicio se puede justificar el cobro) y, al momento de la entrega, se indica a que concepto han sido asignados los recibos.

Al día de hoy, los valores son utilizados por la propia Dirección de Tesorería, no obstante lo cual, puede darse el caso que otra oficina pueda requerir su uso, de acuerdo a nuevas directivas impartidas por el Comando de la Jefatura.

Al menos una vez al mes, la Dirección de Tesorería debe elaborar una reporte incluyendo stock de libretas completas, recibos en libretas incompletas (para lo cual en el momento se debe poder indicar el número del primer recibo disponible de la libreta en uso), total de recibos utilizados en el mes por concepto y total general, otros datos que se desprendan de los movimientos de los valores.

De todo lo datallado, se desprende que antes de confeccionar todo lo concretamente necesario para la gestión de los valores, se deben crear cruds para otras entidades, como ser:
- servicios (incluyendo concepto, valor en U.R., etc...)
- tipo de libreta (incluyendo cantidad de recibos que contiene, stock mínimo expresado en cantidad mínima de recibos, etc...)
- relación tipo de libreta con uno o varios conceptos de servicios

Se podrá determinar alguno más no especificado aquí.

El proceso de cre<ción de la sección valores, debe incluir todo lo necesario, desde migraciones, seeders iniciales, modelos, controladores, componentes, vistas, acceso desde el menú principal (layouts.nav), acceso desde el panel principal (panel.index), rutas web (dentro del grupo de usuarios autenticados y del grupo de tesoreria con el prefijo de tesoreria).

Toda la interrfaz debe estar en idioma español, con formato de fecha (dd/mm/yyyy) y monetario ($ 1.000,00) adaptados para Uruguay.

Todos los nombres de tablas y demás deben seguir las convenciones del resto de la aplicación. Ejemplo: las tablas comienzan con el prefijo tes_, los componentes van dentro de la sub carpeta Tesoreria y dentro de otra subcarpeta cuyo nombre se corresponda con la sección a la cual corresponden (ej: app.HTML.Livewire.Tesoreria.Valores.GestionValores.php).

Todas las tablas deben hacer uso de soft delete y tener campos para auditoria, permitiendo establecer que usuario creo, modificó por última vez o eliminó cada registro, no apareciendo por ahora estos datos en la interfaz.